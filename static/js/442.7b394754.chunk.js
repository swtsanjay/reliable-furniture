"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[442],{4442:function(e,t,n){n.r(t),n.d(t,{default:function(){return xe}});var i=n(3433),a=n(1413),r=n(2791),s=n(586),l=n(6473),o=n(7689),c=n(3388),d=n(8134),u=n(9076),h=n(6106),Z=n(914),f=n(8302),x=n(7615),p=n(5273),m=n(184),j=function(){return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(h.Z,{gutter:[12,32],children:[(0,m.jsx)(Z.Z,{span:24,children:(0,m.jsx)(f.Z.Title,{level:4,children:"Overview"})}),(0,m.jsx)(Z.Z,{span:6,children:(0,m.jsxs)(l.Z,{hoverable:!0,style:{width:300,backgroundColor:"#ce90e3",borderRadius:"26px"},children:[(0,m.jsx)(f.Z.Title,{level:4,style:{marginTop:"-13px"},children:"Total Order"}),(0,m.jsx)(f.Z.Title,{level:2,style:{},children:"47"})]})}),(0,m.jsx)(Z.Z,{span:6,children:(0,m.jsxs)(l.Z,{hoverable:!0,style:{width:300,backgroundColor:"#a8fdeb",borderRadius:"26px"},children:[(0,m.jsx)(f.Z.Title,{level:4,style:{marginTop:"-13px"},children:"Total Order Value"}),(0,m.jsx)(f.Z.Title,{level:2,style:{},children:"\u20b9 748569.68"})]})}),(0,m.jsx)(Z.Z,{span:6,children:(0,m.jsxs)(l.Z,{hoverable:!0,style:{width:300,backgroundColor:"#fffc80",borderRadius:"26px"},children:[(0,m.jsx)(f.Z.Title,{level:4,style:{marginTop:"-13px"},children:"Total Product Sale"}),(0,m.jsx)(f.Z.Title,{level:2,style:{},children:"1619"})]})}),(0,m.jsx)(Z.Z,{span:6,children:(0,m.jsxs)(l.Z,{hoverable:!0,style:{width:300,backgroundColor:"#9ef4ff",borderRadius:"26px"},children:[(0,m.jsx)(f.Z.Title,{level:4,style:{marginTop:"-13px"},children:"New User"}),(0,m.jsx)(f.Z.Title,{level:2,style:{},children:"89"})]})}),(0,m.jsx)(Z.Z,{span:12,children:(0,m.jsxs)(l.Z,{title:"Revenue",hoverable:!0,style:{width:655,height:"500px"},children:[(0,m.jsx)("p",{children:"Card content"}),(0,m.jsx)("p",{children:"Card content"}),(0,m.jsx)("p",{children:"Card content"})]})}),(0,m.jsx)(Z.Z,{span:12,children:(0,m.jsxs)(l.Z,{title:"Weekly Wise Sale",hoverable:!0,style:{width:655,height:"500px"},children:[(0,m.jsx)(x.Z.Item,{label:"Methane",children:(0,m.jsx)(p.Z,{percent:30})}),(0,m.jsx)(x.Z.Item,{label:"Butane",children:(0,m.jsx)(p.Z,{percent:50,status:"active"})}),(0,m.jsx)(x.Z.Item,{label:"Propanol",children:(0,m.jsx)(p.Z,{percent:70,status:"exception"})}),(0,m.jsx)(x.Z.Item,{label:"Alcohol",children:(0,m.jsx)(p.Z,{percent:100})}),(0,m.jsx)(x.Z.Item,{label:"Methane",children:(0,m.jsx)(p.Z,{percent:26})}),(0,m.jsx)(x.Z.Item,{label:"Butane",children:(0,m.jsx)(p.Z,{percent:6,status:"active"})}),(0,m.jsx)(x.Z.Item,{label:"Propanol",children:(0,m.jsx)(p.Z,{percent:16,status:"exception"})}),(0,m.jsx)(x.Z.Item,{label:"Alcohol",children:(0,m.jsx)(p.Z,{percent:19})}),(0,m.jsx)(x.Z.Item,{label:"Propanol",children:(0,m.jsx)(p.Z,{percent:16,status:"exception"})}),(0,m.jsx)(x.Z.Item,{label:"Alcohol",children:(0,m.jsx)(p.Z,{percent:19})})]})})]})})},v=n(9439),g=n(2339),y=n(5820),b=n(7309),S=n(7027),k=n(1917),C=n(9998),I=n(43),w=n(9389),P=n(458),N=n(2622),R=n(1752),T=n(9286),F=n(7106),U=n(5671),_=n(3144),D=n(2022),O=function(){function e(){(0,U.Z)(this,e)}return(0,_.Z)(e,null,[{key:"detailUser",value:function(e,t){return D.Z.get(this.baseURL+"/details-user/"+e,{params:t})}},{key:"listUser",value:function(e){return D.Z.get(this.baseURL+"/list-user",{params:e})}},{key:"saveUser",value:function(e,t){return D.Z.post(this.baseURL+"/save-user",e,{params:t})}},{key:"deleteUser",value:function(e){return D.Z.post(this.baseURL+"/delete-user",{ids:e})}}]),e}();O.baseURL="user";var q=function(){function e(){(0,U.Z)(this,e)}return(0,_.Z)(e,null,[{key:"detail",value:function(e,t){return D.Z.get(this.baseURL+"/details/"+e,{params:t})}},{key:"list",value:function(e){return D.Z.get(this.baseURL+"/list",{params:e})}},{key:"save",value:function(e,t){return D.Z.post(this.baseURL+"/save",e,{params:t})}},{key:"delete",value:function(e){return D.Z.post(this.baseURL+"/delete",{ids:e})}}]),e}();q.baseURL="job-stage";var z=n(4099);function L(e){var t=e.qData,n=e.setQData;return(0,m.jsx)(m.Fragment,{children:t.total>0?(0,m.jsx)(z.Z,{total:t.total,showTotal:function(){var e=(t.page-1)*t.limit*1+1,n=t.page*t.limit;return(0,m.jsx)(g.Z,{children:"Showing "+e+" - "+n+" out of "+t.total})},pageSize:t.limit,current:t.page,onChange:function(e,i){t.limit!==i?n((0,a.Z)((0,a.Z)({},t),{},{page:1,limit:i})):n((0,a.Z)((0,a.Z)({},t),{},{page:e}))},showSizeChanger:!0}):null})}function A(e){var t=e.addNewModalRef,n=(e.qData,e.list);return(0,m.jsx)(x.Z,{onSubmitCapture:n,className:"search-form",children:(0,m.jsx)(h.Z,{gutter:[12,2],children:(0,m.jsx)(Z.Z,{span:5,children:(0,m.jsx)(x.Z.Item,{style:{marginBottom:0,float:"right"},children:(0,m.jsx)(b.ZP,{type:"primary",icon:(0,m.jsx)(T.Z,{}),onClick:function(){t.current.openForm()},children:"Add New"})})})})})}var J=(0,r.forwardRef)((function(e,t){var n=e.list,i=e.jobStage,s=(0,r.useState)(!1),l=(0,v.Z)(s,2),o=l[0],c=l[1],d=(0,r.useState)({aspect:1}),u=(0,v.Z)(d,2),f=u[0],p=u[1],j=(0,r.useState)(!1),g=(0,v.Z)(j,2),y=g[0],k=g[1],N=function(e){p((0,a.Z)((0,a.Z)({},f),e))};(0,r.useImperativeHandle)(t,(function(){return{openForm:function(e){c(!0),p(e?(0,a.Z)({},e):{status:!0})}}}));var R=function(){k(!0),O.saveUser(f).then((function(e){S.ZP.success(e.message),N((0,a.Z)({},e.data)),n(),c(!1)})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];S.ZP.error(t)}else S.ZP.error(e.message)})).finally((function(){k(!1)}))};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(C.Z,{title:(f._id?"Edit":"Add")+" User",style:{top:20},open:o,okText:"Save",keyboard:!1,onOk:R,okButtonProps:{disabled:y},onCancel:function(){c(!1)},destroyOnClose:!0,maskClosable:!1,width:800,className:"app-modal-body",footer:[(0,m.jsx)(b.ZP,{onClick:function(){c(!1)},children:"Cancel"},"cancel"),(0,m.jsx)(b.ZP,{type:"primary",onClick:R,children:"Save"},"save")],children:(0,m.jsx)(I.Z,{spinning:y,indicator:(0,m.jsx)(F.Z,{style:{fontSize:24},spin:!0}),children:(0,m.jsx)(x.Z,{layout:"vertical",children:(0,m.jsx)(h.Z,{gutter:[12,2],children:(0,m.jsx)(Z.Z,{span:24,children:(0,m.jsxs)(h.Z,{gutter:[12,2],children:[(0,m.jsx)(Z.Z,{span:12,children:(0,m.jsx)(x.Z.Item,{label:"Name",required:!0,children:(0,m.jsx)(w.Z,{placeholder:"John Doe",value:f.name,onChange:function(e){N({name:e.target.value})}})})}),(0,m.jsx)(Z.Z,{span:12,children:(0,m.jsx)(x.Z.Item,{label:"Username",required:!0,children:(0,m.jsx)(w.Z,{placeholder:"John Doe",value:f.userName,onChange:function(e){N({userName:e.target.value})}})})}),(0,m.jsx)(Z.Z,{span:12,children:(0,m.jsx)(x.Z.Item,{label:null!==f&&void 0!==f&&f._id?"Update Password":"Set Password",required:null===f||void 0===f||!f._id,children:(0,m.jsx)(w.Z,{type:"password",value:null===f||void 0===f?void 0:f.password,onChange:function(e){N({password:e.target.value})}})})}),(0,m.jsx)(Z.Z,{span:12,children:(0,m.jsx)(x.Z.Item,{label:"Select Job Stage",required:!0,children:(0,m.jsx)(P.Z,{value:f.jobStageId,onChange:function(e){N({jobStageId:e})},options:i.map((function(e){return{value:e._id,label:e.name}}))})})}),(0,m.jsx)(Z.Z,{span:12,children:(0,m.jsx)(x.Z.Item,{label:"Status",required:!0,children:(0,m.jsxs)(P.Z,{value:f.status,onChange:function(e){N({status:e})},children:[(0,m.jsx)(P.Z.Option,{value:"active",children:"Active"}),(0,m.jsx)(P.Z.Option,{value:"inactive",children:"Inactive"}),(0,m.jsx)(P.Z.Option,{value:"blocked",children:"Blocked"})]})})})]})})})})})})})})),B=function(){function e(){(0,U.Z)(this,e)}return(0,_.Z)(e,null,[{key:"detail",value:function(e,t){return D.Z.get(this.baseURL+"/details/"+e,{params:t})}},{key:"list",value:function(e){return D.Z.get(this.baseURL+"/list",{params:e})}},{key:"save",value:function(e,t){return D.Z.post(this.baseURL+"/save",e,{params:t})}},{key:"delete",value:function(e){return D.Z.post(this.baseURL+"/delete",{ids:e})}}]),e}();function E(e){var t=e.jobStageId,n=(0,r.useState)([]),i=(0,v.Z)(n,2),s=i[0],l=i[1],o=(0,r.useState)(!1),c=(0,v.Z)(o,2),d=c[0],u=c[1],h=(0,r.useState)({page:1,limit:20,jobStageId:t}),Z=(0,v.Z)(h,2),f=Z[0],x=Z[1],p=(0,r.useRef)(),j=[{title:"Job Name",dataIndex:"jobName"},{title:"Action",dataIndex:"_id",width:70,render:function(e,t){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(y.Z,{title:"Are you sure to delete this Data?",onConfirm:function(){C(t._id)},okText:"Yes",cancelText:"No",children:[(0,m.jsx)(b.ZP,{type:"primary",size:"small",danger:!0,icon:(0,m.jsx)(N.Z,{})}),"\xa0"]}),(0,m.jsx)(b.ZP,{type:"primary",size:"small",icon:(0,m.jsx)(R.Z,{}),onClick:function(){p.current.openForm(t)}})]})}}].filter((function(e){return!e.hidden}));function g(){u(!0),B.list(f).then((function(e){var t;l(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{key:e._id})}))),x((0,a.Z)((0,a.Z)({},f),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){u(!1)}))}var C=function(e){B.delete(e).then((function(e){S.ZP.success(e.message),g()})).catch((function(e){S.ZP.error(e.message)}))},I=j.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{ellipsis:!1})}));I[0].fixed=!0,I[I.length-1].fixed="right";var w={bordered:!0,loading:d,size:"small",title:function(){return(0,m.jsx)(H,{addNewModalRef:p,deleteData:C,qData:f,setQData:x,list:g})},showHeader:!0,footer:function(){return(0,m.jsx)(L,{qData:f,setQData:x})},tableLayout:void 0};return(0,r.useEffect)((function(){g()}),[f.page,f.limit]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(k.Z,(0,a.Z)((0,a.Z)({},w),{},{pagination:{position:["none"],pageSize:f.limit},columns:I,dataSource:s.length?s:[],scroll:{y:"calc(100vh - 340px)"}})),(0,m.jsx)(Q,{ref:p,list:g,jobStageId:t})]})}function H(e){var t=e.addNewModalRef,n=e.list;return(0,m.jsx)(x.Z,{onSubmitCapture:n,className:"search-form",children:(0,m.jsx)(h.Z,{gutter:[12,2],children:(0,m.jsx)(Z.Z,{span:5,children:(0,m.jsx)(x.Z.Item,{style:{marginBottom:0,float:"right"},children:(0,m.jsx)(b.ZP,{type:"primary",icon:(0,m.jsx)(T.Z,{}),onClick:function(){t.current.openForm()},children:"Add New"})})})})})}B.baseURL="job";var Q=(0,r.forwardRef)((function(e,t){var n=e.list,i=e.jobStageId,s=(0,r.useState)(!1),l=(0,v.Z)(s,2),o=l[0],c=l[1],d=(0,r.useState)({aspect:1}),u=(0,v.Z)(d,2),f=u[0],p=u[1],j=(0,r.useState)(!1),g=(0,v.Z)(j,2),y=g[0],k=g[1];(0,r.useImperativeHandle)(t,(function(){return{openForm:function(e){c(!0),p(e?(0,a.Z)({},e):{jobStageId:i})}}}));var P=function(){k(!0),B.save(f).then((function(e){var t;S.ZP.success(e.message),t=(0,a.Z)({},e.data),p((0,a.Z)((0,a.Z)({},f),t)),n(),c(!1)})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];S.ZP.error(t)}else S.ZP.error(e.message)})).finally((function(){k(!1)}))};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(C.Z,{title:(f._id?"Edit":"Add")+" Job",style:{top:20},open:o,okText:"Save",keyboard:!1,onOk:P,okButtonProps:{disabled:y},onCancel:function(){c(!1)},destroyOnClose:!0,maskClosable:!1,width:400,className:"app-modal-body",footer:[(0,m.jsx)(b.ZP,{onClick:function(){c(!1)},children:"Cancel"},"cancel"),(0,m.jsx)(b.ZP,{type:"primary",onClick:P,children:"Save"},"save")],children:(0,m.jsx)(I.Z,{spinning:y,indicator:(0,m.jsx)(F.Z,{style:{fontSize:24},spin:!0}),children:(0,m.jsx)(x.Z,{layout:"vertical",children:(0,m.jsx)(h.Z,{gutter:[12,2],children:(0,m.jsx)(Z.Z,{span:24,children:(0,m.jsx)(h.Z,{gutter:[12,2],children:(0,m.jsx)(Z.Z,{span:24,children:(0,m.jsx)(x.Z.Item,{label:"Job Name",required:!0,children:(0,m.jsx)(w.Z,{placeholder:"Job Name",value:f.jobName})})})})})})})})})})}));function M(e){var t=e.addNewModalRef,n=(e.deleteData,e.qData,e.list);return(0,m.jsx)(x.Z,{onSubmitCapture:n,className:"search-form",children:(0,m.jsx)(h.Z,{gutter:[12,2],children:(0,m.jsx)(Z.Z,{span:5,children:(0,m.jsx)(x.Z.Item,{style:{marginBottom:0,float:"right"},children:(0,m.jsx)(b.ZP,{type:"primary",icon:(0,m.jsx)(T.Z,{}),onClick:function(){t.current.openForm()},children:"Add New"})})})})})}var K=(0,r.forwardRef)((function(e,t){var n=e.list,i=(0,r.useState)(!1),s=(0,v.Z)(i,2),l=s[0],o=s[1],c=(0,r.useState)({aspect:1}),d=(0,v.Z)(c,2),u=d[0],f=d[1],p=(0,r.useState)(!1),j=(0,v.Z)(p,2),g=j[0],y=j[1],k=function(e){f((0,a.Z)((0,a.Z)({},u),e))};(0,r.useImperativeHandle)(t,(function(){return{openForm:function(e){o(!0),f(e?(0,a.Z)({},e):{status:!0})}}}));var P=function(){y(!0),q.save(u).then((function(e){S.ZP.success(e.message),k((0,a.Z)({},e.data)),n(),o(!1)})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];S.ZP.error(t)}else S.ZP.error(e.message)})).finally((function(){y(!1)}))};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(C.Z,{title:(u._id?"Edit":"Add")+" Job Stage",style:{top:20},open:l,okText:"Save",keyboard:!1,onOk:P,okButtonProps:{disabled:g},onCancel:function(){o(!1)},destroyOnClose:!0,maskClosable:!1,width:400,className:"app-modal-body",footer:[(0,m.jsx)(b.ZP,{onClick:function(){o(!1)},children:"Cancel"},"cancel"),(0,m.jsx)(b.ZP,{type:"primary",onClick:P,children:"Save"},"save")],children:(0,m.jsx)(I.Z,{spinning:g,indicator:(0,m.jsx)(F.Z,{style:{fontSize:24},spin:!0}),children:(0,m.jsx)(x.Z,{layout:"vertical",children:(0,m.jsx)(h.Z,{gutter:[12,2],children:(0,m.jsx)(Z.Z,{span:24,children:(0,m.jsxs)(h.Z,{gutter:[12,2],children:[(0,m.jsx)(Z.Z,{span:24,children:(0,m.jsx)(x.Z.Item,{label:"Stage No",required:!0,children:(0,m.jsx)(w.Z,{placeholder:"Stage No",type:"number",value:u.stageNo,onChange:function(e){k({stageNo:e.target.value})}})})}),(0,m.jsx)(Z.Z,{span:24,children:(0,m.jsx)(x.Z.Item,{label:"Name",required:!0,children:(0,m.jsx)(w.Z,{placeholder:"Name",value:u.name,onChange:function(e){k({name:e.target.value})}})})})]})})})})})})})})),W=(0,r.forwardRef)((function(e,t){var n=(0,r.useState)(!1),i=(0,v.Z)(n,2),s=i[0],l=i[1],o=(0,r.useState)({}),c=(0,v.Z)(o,2),d=c[0],u=c[1];return(0,r.useImperativeHandle)(t,(function(){return{openForm:function(e){l(!0),u(e?(0,a.Z)({},e):{status:!0})}}})),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(C.Z,{title:(0,m.jsxs)(m.Fragment,{children:["All Job List of ",(0,m.jsx)(f.Z.Text,{type:"danger",children:null===d||void 0===d?void 0:d.name})]}),style:{top:20},open:s,onCancel:function(){l(!1)},destroyOnClose:!0,maskClosable:!1,width:600,footer:[(0,m.jsx)(b.ZP,{onClick:function(){l(!1)},children:"Cancel"},"cancel")],children:(0,m.jsx)(E,{jobStageId:d._id})})})})),Y=n(6002),G=n(1429),V=n(7270),X=n(4423),$=function(){function e(){(0,U.Z)(this,e)}return(0,_.Z)(e,null,[{key:"detail",value:function(e,t){return D.Z.get(this.baseURL+"/details/"+e,{params:t})}},{key:"list",value:function(e){return D.Z.get(this.baseURL+"/list",{params:e})}},{key:"listJobStageStatus",value:function(e){return D.Z.get(this.baseURL+"/job-order-status",{params:e})}},{key:"save",value:function(e,t){return D.Z.post(this.baseURL+"/save",e,{params:t})}},{key:"delete",value:function(e){return D.Z.post(this.baseURL+"/delete",{ids:e})}}]),e}();function ee(e){var t=e.addNewModalRef,n=e.qData,i=e.list;return(0,m.jsx)(x.Z,{onSubmitCapture:i,className:"search-form",children:(0,m.jsxs)(h.Z,{gutter:[12,2],children:[(0,m.jsx)(Z.Z,{span:4,children:(0,m.jsx)(x.Z.Item,{style:{marginBottom:0},children:(0,m.jsx)(w.Z,{placeholder:"Search by name",value:n.key,onChange:function(e){return t=e.target.value,n[a="key"]=t,void(void 0!==t&&""!==t||(delete n[a],i()));var t,a},allowClear:!0})})}),(0,m.jsx)(Z.Z,{span:3,children:(0,m.jsx)(x.Z.Item,{style:{marginBottom:0},children:(0,m.jsx)(b.ZP,{type:"primary",htmlType:"submit",children:"Search"})})}),(0,m.jsx)(Z.Z,{span:5,children:(0,m.jsx)(x.Z.Item,{style:{marginBottom:0,float:"right"},children:(0,m.jsx)(b.ZP,{type:"primary",icon:(0,m.jsx)(T.Z,{}),onClick:function(){t.current.openForm()},children:"Add New"})})})]})})}$.baseURL="order";var te=(0,r.forwardRef)((function(e,t){var n=e.list,i=(0,r.useState)(!1),s=(0,v.Z)(i,2),l=s[0],o=s[1],c=(0,r.useState)({aspect:1}),d=(0,v.Z)(c,2),u=d[0],f=d[1],p=(0,r.useState)(!1),j=(0,v.Z)(p,2),g=j[0],y=j[1],k=function(e){f((0,a.Z)((0,a.Z)({},u),e))};(0,r.useImperativeHandle)(t,(function(){return{openForm:function(e){o(!0),f(e?(0,a.Z)({},e):{status:!0})}}}));var N=function(){y(!0),$.save(u).then((function(e){S.ZP.success(e.message),k((0,a.Z)({},e.data)),n(),o(!1)})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];S.ZP.error(t)}else S.ZP.error(e.message)})).finally((function(){y(!1)}))};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(C.Z,{title:(u._id?"Edit":"Add")+" Order",style:{top:20},open:l,okText:"Save",keyboard:!1,onOk:N,okButtonProps:{disabled:g},onCancel:function(){o(!1)},destroyOnClose:!0,maskClosable:!1,width:600,className:"app-modal-body",footer:[(0,m.jsx)(b.ZP,{onClick:function(){o(!1)},children:"Cancel"},"cancel"),(0,m.jsx)(b.ZP,{type:"primary",onClick:N,children:"Save"},"save")],children:(0,m.jsx)(I.Z,{spinning:g,indicator:(0,m.jsx)(F.Z,{style:{fontSize:24},spin:!0}),children:(0,m.jsx)(x.Z,{layout:"vertical",children:(0,m.jsx)(h.Z,{gutter:[12,2],children:(0,m.jsx)(Z.Z,{span:24,children:(0,m.jsxs)(h.Z,{gutter:[12,2],children:[(0,m.jsx)(Z.Z,{span:24,children:(0,m.jsx)(x.Z.Item,{label:" Name",required:!0,children:(0,m.jsx)(w.Z,{placeholder:"Name",value:u.name,onChange:function(e){k({name:e.target.value})}})})}),(0,m.jsx)(Z.Z,{span:24,children:(0,m.jsx)(x.Z.Item,{label:"Quantity",required:!0,children:(0,m.jsx)(w.Z,{placeholder:"Quantity",type:"number",value:u.quantity,onChange:function(e){k({quantity:e.target.value})}})})}),(0,m.jsx)(Z.Z,{span:24,children:(0,m.jsx)(x.Z.Item,{label:"Status",required:!0,children:(0,m.jsxs)(P.Z,{value:u.status,onChange:function(e){k({status:e})},children:[(0,m.jsx)(P.Z.Option,{value:"initial",children:"Initial"}),(0,m.jsx)(P.Z.Option,{value:"completed",children:"Completed"})]})})})]})})})})})})})})),ne=(0,r.forwardRef)((function(e,t){var n=(0,r.useState)(!1),i=(0,v.Z)(n,2),a=i[0],s=i[1],o=(0,r.useState)({}),c=(0,v.Z)(o,2),d=c[0],u=c[1],h=(0,r.useState)(!1),Z=(0,v.Z)(h,2),f=Z[0],x=Z[1],p=(0,r.useState)(),j=(0,v.Z)(p,2),g=j[0],y=j[1],b=(0,r.useState)([]),S=(0,v.Z)(b,2),k=(S[0],S[1],(0,r.useState)("")),w=(0,v.Z)(k,2),P=w[0],N=w[1];return console.log("this is dt",g),(0,r.useImperativeHandle)(t,(function(){return{openForm:function(e){s(!0),y(e)}}})),(0,r.useEffect)((function(){x(!0),q.list().then((function(e){u(e.data)})).catch((function(e){})).finally((function(){x(!1)}))}),[a]),(0,r.useEffect)((function(){var e;N(null===(e=d[0])||void 0===e?void 0:e._id)}),[d]),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(C.Z,{title:"Job Order Status",style:{top:20},open:a,okText:"Save",okButtonProps:{disabled:f},onCancel:function(){s(!1)},destroyOnClose:!0,maskClosable:!1,width:1e3,footer:null,children:(0,m.jsx)(I.Z,{spinning:f,children:d.length>0&&(0,m.jsx)(l.Z,{size:"small",children:(0,m.jsx)(Y.Z,{activeKey:P,onChange:function(e){N(e)},type:"card",style:{height:300},items:d.map((function(e){return{label:"".concat(null===e||void 0===e?void 0:e.name),key:"".concat(null===e||void 0===e?void 0:e._id),children:(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(l.Z,{bordered:!1,size:"small",children:(0,m.jsx)(ie,{subJobs:d.find((function(e){return(null===e||void 0===e?void 0:e._id)===P})),order:g})})})}}))})})})})})})),ie=function(e){var t=e.subJobs,n=e.order,a=(0,r.useState)([]),s=(0,v.Z)(a,2),l=s[0],o=s[1],c=(0,r.useState)(!1),d=(0,v.Z)(c,2),u=(d[0],d[1]),h=(0,r.useState)(""),Z=(0,v.Z)(h,2),f=Z[0],x=Z[1];return(0,r.useEffect)((function(){null!==t&&void 0!==t&&t._id?(u(!0),B.list({jobStageId:null===t||void 0===t?void 0:t._id}).then((function(e){o(null===e||void 0===e?void 0:e.data)})).catch((function(e){})).finally((function(){}))):o([])}),[]),(0,r.useEffect)((function(){var e;l.length&&x(null===(e=l[0])||void 0===e?void 0:e._id)}),[l]),(0,m.jsx)(Y.Z,{type:"card",destroyInactiveTabPane:!1,tabPosition:"left",onChange:function(e){x(e)},activeKey:f,items:(0,i.Z)(null===l||void 0===l?void 0:l.map((function(e){return{label:e.jobName,key:e._id,children:(0,m.jsx)(ae,{jobId:e._id,order:n,subJobs:null===t||void 0===t?void 0:t._id})}})))})},ae=function(e){var t=e.jobId,n=e.order,i=e.subJobs,a=(0,r.useState)(!1),s=(0,v.Z)(a,2),o=s[0],c=s[1],d=(0,r.useState)({}),u=(0,v.Z)(d,2),f=u[0],x=u[1],p=(0,r.useRef)();return(0,r.useEffect)((function(){c(!0),$.listJobStageStatus({jobId:t,orderId:null===n||void 0===n?void 0:n._id,jobStageId:i}).then((function(e){x(null===e||void 0===e?void 0:e.data[0])})).catch((function(e){})).finally((function(){c(!1)}))}),[t]),(0,m.jsx)(I.Z,{spinning:o,indicator:(0,m.jsx)(F.Z,{style:{fontSize:24},spin:!0}),children:(0,m.jsx)(l.Z,{style:{backgroundColor:"rgb(240, 242, 245)"},children:(0,m.jsxs)(h.Z,{gutter:16,children:[(0,m.jsx)(Z.Z,{span:12,children:(0,m.jsx)(l.Z,{bordered:!1,style:{height:"120px"},children:(0,m.jsx)(G.Z,{title:"Completed",value:"completed"===(null===f||void 0===f?void 0:f.status)?null===f||void 0===f?void 0:f.quantity:0,valueStyle:{color:"#3f8600"},prefix:(0,m.jsx)(V.Z,{}),suffix:"(Items)"})})}),(0,m.jsxs)(Z.Z,{span:12,children:[(0,m.jsxs)(l.Z,{bordered:!1,style:{height:"120px"},children:[(0,m.jsx)(G.Z,{title:"Rejected",value:"rejected"===(null===f||void 0===f?void 0:f.status)?null===f||void 0===f?void 0:f.quantity:0,valueStyle:{color:"#cf1322"},prefix:(0,m.jsx)(X.Z,{}),suffix:(0,m.jsx)(b.ZP,{type:"text",onClick:function(){return p.current.openForm(n)},danger:!0,size1:"small",children:"Generate New Order"})}),(0,m.jsx)("span",{style:{marginTop:0,color:"gray"},children:null!==f&&void 0!==f&&f.rejectionMsg?f.rejectionMsg:""})]}),(0,m.jsx)(re,{ref:p})]})]})})})},re=(0,r.forwardRef)((function(e,t){var n=(0,r.useState)(!1),i=(0,v.Z)(n,2),s=i[0],l=i[1],o=(0,r.useState)({}),c=(0,v.Z)(o,2),d=c[0],u=c[1],f=(0,r.useState)(),p=(0,v.Z)(f,2),j=p[0],g=p[1],y=(0,r.useState)(!1),k=(0,v.Z)(y,2),P=k[0],N=k[1];(0,r.useImperativeHandle)(t,(function(){return{openForm:function(e){l(!0),g(e)}}}));var R=function(e){u((0,a.Z)((0,a.Z)({},d),e))},T=function(){N(!0),$.save((0,a.Z)((0,a.Z)({},d),{},{parentId:null===j||void 0===j?void 0:j._id,name:null===j||void 0===j?void 0:j.name})).then((function(e){S.ZP.success(e.message),R((0,a.Z)({},e.data)),l(!1)})).catch((function(e){if("object"===typeof e.message){var t=e.message[Object.keys(e.message)[0]];S.ZP.error(t)}else S.ZP.error(e.message)})).finally((function(){N(!1)}))};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(C.Z,{title:"Re-Order Rejected",style:{top:20},open:s,okText:"Save",keyboard:!1,onOk:T,okButtonProps:{disabled:P},onCancel:function(){l(!1)},destroyOnClose:!0,maskClosable:!1,width:600,className:"app-modal-body",footer:[(0,m.jsx)(b.ZP,{onClick:function(){l(!1)},children:"Cancel"},"cancel"),(0,m.jsx)(b.ZP,{type:"primary",onClick:T,children:"Save"},"save")],children:(0,m.jsx)(I.Z,{spinning:P,indicator:(0,m.jsx)(F.Z,{style:{fontSize:24},spin:!0}),children:(0,m.jsx)(x.Z,{layout:"vertical",children:(0,m.jsx)(h.Z,{gutter:[12,2],children:(0,m.jsx)(Z.Z,{span:24,children:(0,m.jsx)(h.Z,{gutter:[12,2],children:(0,m.jsx)(Z.Z,{span:24,children:(0,m.jsx)(x.Z.Item,{label:"Quantity",required:!0,children:(0,m.jsx)(w.Z,{placeholder:"Quantity",type:"number",onChange:function(e){R({quantity:e.target.value})},value:d.quantity})})})})})})})})})})})),se=[{title:"Dashboard",icon:d.Z,url:"/",component:j},{title:"User",icon:u.Z,url:"/users",component:function(){var e=(0,r.useState)([]),t=(0,v.Z)(e,2),n=t[0],i=t[1],s=(0,r.useState)([]),l=(0,v.Z)(s,2),o=l[0],c=l[1],d=(0,r.useState)(!1),u=(0,v.Z)(d,2),h=u[0],Z=u[1],x=(0,r.useState)({page:1,limit:20}),p=(0,v.Z)(x,2),j=p[0],C=p[1],I=(0,r.useRef)(),w=[{title:"Username",dataIndex:"userName"},{title:"Job Stage Assigned",dataIndex:"jobStageDetails",width:250,render:function(e){return e.name}},{title:"Status",dataIndex:"status",width:60,render:function(e){return"blocked"===e?(0,m.jsx)(g.Z,{color:"red",children:"Blocked"}):"active"===e?(0,m.jsx)(g.Z,{color:"green",children:"Active"}):(0,m.jsx)(g.Z,{color:"yellow",children:"Inactive"})}},{title:"Action",dataIndex:"_id",width:70,render:function(e,t){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(y.Z,{title:"Are you sure to delete this User?",onConfirm:function(){T(t._id)},okText:"Yes",cancelText:"No",children:[(0,m.jsx)(b.ZP,{type:"primary",size:"small",danger:!0,icon:(0,m.jsx)(N.Z,{})}),"\xa0"]}),(0,m.jsx)(b.ZP,{type:"primary",size:"small",icon:(0,m.jsx)(R.Z,{}),onClick:function(){I.current.openForm(t)}})]})}}].filter((function(e){return!e.hidden}));function P(){Z(!0),O.listUser(j).then((function(e){var t;i(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{key:e._id})}))),C((0,a.Z)((0,a.Z)({},j),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){Z(!1)}))}var T=function(e){O.deleteUser(e).then((function(e){S.ZP.success(e.message),P()})).catch((function(e){S.ZP.error(e.message)}))},F=w.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{ellipsis:!1})}));F[0].fixed=!0;var U={bordered:!0,loading:h,size:"small",title:function(){return(0,m.jsx)(A,{addNewModalRef:I,deleteData:T,qData:j,setQData:C,list:P})},showHeader:!0,footer:function(){return(0,m.jsx)(L,{qData:j,setQData:C})},tableLayout:void 0};return(0,r.useEffect)((function(){P(),Z(!0),q.list({isAll:1}).then((function(e){c(e.data||[])})).catch((function(e){S.ZP.error("Job Stage data not loaded")}))}),[j.page,j.limit]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(f.Z.Title,{level:5,style:{marginTop:0},children:"List of Users"}),(0,m.jsx)(k.Z,(0,a.Z)((0,a.Z)({},U),{},{pagination:{position:["none"],pageSize:j.limit},columns:F,dataSource:n.length?n:[],scroll:{y:"calc(100vh - 340px)",x:"calc(100vw - 387px)"}})),(0,m.jsx)(J,{ref:I,list:P,jobStage:o})]})}},{title:"Job Stage",icon:u.Z,url:"/job-stage",component:function(){var e=(0,r.useState)([]),t=(0,v.Z)(e,2),n=t[0],i=t[1],s=(0,r.useState)(!1),l=(0,v.Z)(s,2),o=l[0],c=l[1],d=(0,r.useState)({page:1,limit:20}),u=(0,v.Z)(d,2),h=u[0],Z=u[1],x=(0,r.useRef)(),p=(0,r.useRef)(),j=[{title:"Stage No",dataIndex:"stageNo",width:100},{title:"Job Stage",dataIndex:"name"},{title:"Job",dataIndex:"_id",width:50,render:function(e,t){return(0,m.jsx)(b.ZP,{type:"primary",size:"small",onClick:function(){p.current.openForm({_id:t._id,name:t.name})},children:"Job"})}},{title:"Action",dataIndex:"_id",width:70,render:function(e,t){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(y.Z,{title:"Are you sure to delete this Data?",onConfirm:function(){C(t._id)},okText:"Yes",cancelText:"No",children:[(0,m.jsx)(b.ZP,{type:"primary",size:"small",danger:!0,icon:(0,m.jsx)(N.Z,{})}),"\xa0"]}),(0,m.jsx)(b.ZP,{type:"primary",size:"small",icon:(0,m.jsx)(R.Z,{}),onClick:function(){x.current.openForm(t)}})]})}}].filter((function(e){return!e.hidden}));function g(){c(!0),q.list(h).then((function(e){var t;i(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{key:e._id})}))),Z((0,a.Z)((0,a.Z)({},h),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){c(!1)}))}var C=function(e){q.delete(e).then((function(e){S.ZP.success(e.message),g()})).catch((function(e){S.ZP.error(e.message)}))},I=j.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{ellipsis:!1})}));I[1].fixed=!0;var w={bordered:!0,loading:o,size:"small",title:function(){return(0,m.jsx)(M,{addNewModalRef:x,deleteData:C,qData:h,setQData:Z,list:g})},showHeader:!0,footer:function(){return(0,m.jsx)(L,{qData:h,setQData:Z})},tableLayout:void 0};return(0,r.useEffect)((function(){g()}),[h.page,h.limit]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(f.Z.Title,{level:5,style:{marginTop:0},children:"List of Job Stage"}),(0,m.jsx)(k.Z,(0,a.Z)((0,a.Z)({},w),{},{pagination:{position:["none"],pageSize:h.limit},columns:I,dataSource:n.length?n:[],scroll:{y:"calc(100vh - 340px)",x:"calc(100vw - 387px)"}})),(0,m.jsx)(K,{ref:x,list:g}),(0,m.jsx)(W,{ref:p,list:g})]})}},{title:"Order",icon:u.Z,url:"/order",component:function(){var e=(0,r.useState)([]),t=(0,v.Z)(e,2),n=t[0],i=t[1],s=(0,r.useState)(!1),l=(0,v.Z)(s,2),o=l[0],c=l[1],d=(0,r.useState)({page:1,limit:20}),u=(0,v.Z)(d,2),h=u[0],Z=u[1],x=(0,r.useRef)(),p=(0,r.useRef)(),j=[{title:"Name",dataIndex:"name"},{title:"Quantity",dataIndex:"quantity",width:80},{title:"Order Job Status",dataIndex:"_id",width:170,render:function(e,t){return(0,m.jsxs)(m.Fragment,{children:[" ",(0,m.jsx)(b.ZP,{type:"primary",size:"small",onClick:function(){return p.current.openForm(t)},children:"Status"})," "]})}},{title:"Status",dataIndex:"status",width:80,render:function(e){return"initial"==e?(0,m.jsx)(g.Z,{color:"blue",children:"Initial"}):(0,m.jsx)(g.Z,{color:"yellow",children:"Completed"})}},{title:"Action",dataIndex:"_id",width:70,render:function(e,t){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(y.Z,{title:"Are you sure to delete this Data?",onConfirm:function(){I(t._id)},okText:"Yes",cancelText:"No",children:[(0,m.jsx)(b.ZP,{type:"primary",size:"small",danger:!0,icon:(0,m.jsx)(N.Z,{})}),"\xa0"]}),(0,m.jsx)(b.ZP,{type:"primary",size:"small",icon:(0,m.jsx)(R.Z,{}),onClick:function(){x.current.openForm(t)}})]})}}].filter((function(e){return!e.hidden}));function C(){c(!0),$.list(h).then((function(e){var t;i(null===(t=e.data)||void 0===t?void 0:t.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{key:e._id})}))),Z((0,a.Z)((0,a.Z)({},h),{},{limit:e.extra.limit,page:e.extra.page,total:e.extra.total}))})).catch((function(e){})).finally((function(){c(!1)}))}var I=function(e){$.delete(e).then((function(e){S.ZP.success(e.message),C()})).catch((function(e){S.ZP.error(e.message)}))},w=j.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{ellipsis:!1})}));w[0].fixed=!0,w[w.length-1].fixed="right";var P={bordered:!0,loading:o,size:"small",title:function(){return(0,m.jsx)(ee,{addNewModalRef:x,deleteData:I,qData:h,setQData:Z,list:C})},showHeader:!0,footer:function(){return(0,m.jsx)(L,{qData:h,setQData:Z})},tableLayout:void 0};return(0,r.useEffect)((function(){C()}),[h.page,h.limit]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(f.Z.Title,{level:5,style:{marginTop:0},children:"List of Order "}),(0,m.jsx)(k.Z,(0,a.Z)((0,a.Z)({},P),{},{pagination:{position:["none"],pageSize:h.limit},columns:w,dataSource:n.length?n:[],scroll:{y:"calc(100vh - 340px)",x:"calc(100vw - 387px)"}})),(0,m.jsx)(te,{ref:x,list:C}),(0,m.jsx)(ne,{ref:p})]})}}].filter((function(e){var t;return!e.hidden||(null===(t=e.children)||void 0===t?void 0:t.length)})),le=se,oe=n(1087),ce=n(7962),de=(0,i.Z)(le);!function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.forEach((function(i,r){var s;null!==(s=i.children)&&void 0!==s&&s.length?(t[r]=(0,a.Z)((0,a.Z)({},t[r]),{},{key:n+i.url,icon:(0,m.jsx)(i.icon,{}),label:(0,m.jsx)(oe.rU,{className:"text-d-none",to:n+i.url,children:i.title})}),e(i.children,n+i.url)):t[r]=(0,a.Z)((0,a.Z)({},i),{},{key:n+i.url,icon:(0,m.jsx)(i.icon,{}),label:(0,m.jsx)(oe.rU,{className:"text-d-none",to:n+i.url,children:i.title})})}))}(de),de.push({label:"Logout",icon:(0,m.jsx)(ce.Z,{}),key:"logout",style:{color:"red"},onClick:function(){window.localStorage.clear(),window.location.reload()},component:(0,m.jsx)(m.Fragment,{})});var ue=function(){var e,t=[];return null===(e=(0,o.TH)().pathname.split("/"))||void 0===e||e.reduce((function(e,n){return t.push(e+"/"+n),e+"/"+n})),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(c.Z,{defaultSelectedKeys:[t.pop()],defaultOpenKeys:[].concat(t),mode:"horizontal",theme:"dark",items:de})})},he=n(8935);function Ze(){return(0,m.jsx)(he.ZP,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:(0,m.jsx)(oe.rU,{to:"/",children:(0,m.jsx)(b.ZP,{type:"primary",children:"Back Home"})})})}var fe=[];function xe(){return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(s.Z,{style:{minHeight:"100vh"},children:(0,m.jsxs)(s.Z,{className:"site-layout",children:[(0,m.jsx)(ue,{}),(0,m.jsx)(s.Z.Content,{style:{margin:"24px 40px 0 40px"},children:(0,m.jsx)(l.Z,{bordered:!0,children:(0,m.jsxs)(o.Z5,{children:[fe.filter((function(e){return"logout"!==e.key})).map((function(e){return(0,m.jsx)(o.AW,{path:e.url,element:(0,m.jsx)(e.component,{})},e.url)})),(0,m.jsx)(o.AW,{path:"*",element:(0,m.jsx)(Ze,{})})]})})})]})})})}!function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.forEach((function(t){t.children?e(t.children,n+t.url):fe.push((0,a.Z)((0,a.Z)({},t),{},{url:n+t.url}))}))}((0,i.Z)(le))}}]);
//# sourceMappingURL=442.7b394754.chunk.js.map